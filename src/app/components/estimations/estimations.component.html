<div class="estimate-container">
    <h2>Material Estimation</h2>
  
    <div *ngIf="isLoading">Loading estimate...</div>
    <div *ngIf="error" class="error">{{ error }}</div>
  
    <div *ngIf="estimate">
      <p><strong>Total Cost:</strong> ₹{{ estimate.totalCost }}</p>
      <button class="download-btn" (click)="downloadPDF()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="7 10 12 15 17 10"></polyline>
          <line x1="12" y1="15" x2="12" y2="3"></line>
        </svg>
        Download as PDF
      </button>
      <table>
        <thead>
          <tr>
            <th>Material</th>
            <th>Resource</th>
            <th>Unit Price</th>
            <th>Cost (₹)</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let material of estimate.materials">
            <td>{{ material.resourceName }}</td>
            <td>{{ material.resourceQuantity }}</td>
            <td>{{ material.unitPrice }}</td>
            <td>{{ material.cost }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  
