<div class="user-management">
    <header class="page-header">
      <h1>User Management</h1>
      <button class="back-btn" onclick="goBack()">Back to Dashboard</button>
    </header>
  
    <div class="content">
      <!-- Table displaying users -->
      <div class="users-table" *ngIf="!isEditing">
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Email</th>
              <th>Role</th>
              <th>Status</th>
              <th>Created At</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let user of users">
              <td>{{ user.name }}</td>
              <td>{{ user.email }}</td>
              <td>{{ user.role }}</td>
              <td>{{ user.createdAt | date }}</td>
              <td class="actions">
                <button class="edit-btn" (click)="editUser(user)">Edit</button>
                <button class="delete-btn" (click)="deleteUser(user._id!)">Delete</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
  
      <!-- Edit User Form -->
      <div class="edit-form" *ngIf="isEditing">
        <h2>Edit User</h2>
        <form [formGroup]="editForm" (ngSubmit)="saveUser()">
          <div class="form-group">
            <label for="name">Name</label>
            <input type="text" id="name" formControlName="name" />
          </div>
  
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" formControlName="email" />
          </div>
  
          <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" formControlName="password" />
          </div>
  
          <div class="form-group">
            <label for="contactNumber">Contact Number</label>
            <input type="text" id="contactNumber" formControlName="contactNumber" />
          </div>
  
          <div class="form-group">
            <label for="role">Role</label>
            <select id="role" formControlName="role">
              <option value="homeowner">Homeowner</option>
              <option value="contractor">Contractor</option>
              <option value="admin">Admin</option>
            </select>
          </div>
  
          <div class="form-group">
            <label for="status">Status</label>
            <select id="status" formControlName="status">
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
            </select>
          </div>
  
          <div class="form-group">
            <label for="address-line1">Address Line 1</label>
            <input type="text" id="address-line1" formControlName="address.line1" />
          </div>
  
          <div class="form-group">
            <label for="address-city">City</label>
            <input type="text" id="address-city" formControlName="address.city" />
          </div>
  
          <div class="form-group">
            <label for="address-state">State</label>
            <input type="text" id="address-state" formControlName="address.state" />
          </div>
  
          <div class="form-group">
            <label for="address-pincode">Pincode</label>
            <input type="text" id="address-pincode" formControlName="address.pincode" />
          </div>
  
          <div class="form-actions">
            <button type="submit" [disabled]="editForm.invalid">Save</button>
            <button type="button" (click)="cancelEdit()">Cancel</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  